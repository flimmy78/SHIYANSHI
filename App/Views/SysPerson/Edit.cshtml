@model Langben.DAL.SysPerson

@{
    Layout = "~/Views/Shared/SysEdit.cshtml";
}
@using Common
@using Models
@section CurentPlace {
    修改
}
<script type="text/javascript">
    $(function () {
        $('#Province2').combobox({
           multiple: true,
          data: [{ value: '@Common.LABORATORYNAME.电能.ToString()', text: '@Common.LABORATORYNAME.电能.ToString()' }, { value: '@Common.LABORATORYNAME.指示仪表.ToString()', text: '@Common.LABORATORYNAME.指示仪表.ToString()' },
            { value: '@Common.LABORATORYNAME.数表单相.ToString()', text: '@Common.LABORATORYNAME.数表单相.ToString()' }, { value: '@Common.LABORATORYNAME.互感器.ToString()', text: '@Common.LABORATORYNAME.互感器.ToString()' }, { value: '@Common.LABORATORYNAME.数表三相.ToString()', text: '@Common.LABORATORYNAME.数表三相.ToString()' }, { value: '@Common.LABORATORYNAME.直流仪器.ToString()', text: '@Common.LABORATORYNAME.直流仪器.ToString()' }],
           panelHeight: 'auto',
           required: true,
            missingMessage: '必填',
            onSelect: function (s) {

            }
        })
        $("#Province2").combobox('setValues', '@Model.Province'.split(','));
    })
    function ti() {
        $('#Province').val($("#Province2").combobox('getText'));
    }
</script>
<fieldset>

    <div class="bigdiv">


        <div style="float:right; width:379px;height:184px;">
            <img id="showPic" src="~/Images/noPic.jpg" width="149" height="175" />
            <div style="float:left">
                <div id="uploader-demo">
                    <!--用来存放item-->
                    <div id="fileList" style="display:none;" class="uploader-list"></div>
                    <div id="filePicker">上传签字</div>
                </div>
            </div>
        </div>


        @Html.HiddenFor(model => model.Id)
        <div class="search-form">
            <div class="editor-label">
                *  @Html.LabelFor(model => model.Name)：
            </div>
            <div class="editor-field">
                @Html.EditorFor(model => model.Name)
                @Html.ValidationMessageFor(model => model.Name)
            </div>
        </div>
        <div class="search-form">
            <div class="editor-label">
                @Html.LabelFor(model => model.MyName)：
            </div>
            <div class="editor-field">
                @Html.EditorFor(model => model.MyName)
                @Html.ValidationMessageFor(model => model.MyName)
            </div>
        </div>
        <div class="search-form">
            <div class="editor-label">
                @Html.LabelFor(model => model.Password)：
            </div>
            <div class="editor-field">
                @Html.EditorFor(model => model.Password)
                @Html.ValidationMessageFor(model => model.Password)
            </div>
        </div>
        <div class="search-form">
            <div class="editor-label">
                @Html.LabelFor(model => model.SurePassword)：
            </div>
            <div class="editor-field">
                @Html.EditorFor(model => model.SurePassword)
                @Html.ValidationMessageFor(model => model.SurePassword)
            </div>
        </div>
        <div class="search-form">
            <div class="editor-label">
                @Html.LabelFor(model => model.Sex)：
            </div>
            <div class="editor-field">
                @Html.DropDownListFor(model => model.Sex, Models.SysFieldModels.GetSysField("SysPerson", "Sex"), "请选择")
            </div>

        </div>
        <div class="search-form">

            <div class="editor-label">
                @Html.LabelFor(model => model.MobilePhoneNumber)：
            </div>
            <div class="editor-field">
                @Html.EditorFor(model => model.MobilePhoneNumber)
                @Html.ValidationMessageFor(model => model.MobilePhoneNumber)
            </div>
        </div>
        <div class="search-form">
            <div class="editor-label">
                @Html.LabelFor(model => model.PhoneNumber)：
            </div>
            <div class="editor-field">
                @Html.EditorFor(model => model.PhoneNumber)
                @Html.ValidationMessageFor(model => model.PhoneNumber)
            </div>
        </div>
        <div class="search-form">
            <div class="editor-label">
                <label for="Province">实验室</label>
            </div>
            <div class="editor-field">
                <select id="Province2" name="Province2">
                    @*<option value="">请选择</option>
                <option value="数表三相">数表三相</option>
                <option value="数表单相">数表单相</option>
                <option value="电能">电能</option>
                <option value="指示仪表">指示仪表</option>
                <option value="直流仪器">直流仪器</option>
                <option value="互感器">互感器</option>*@
                </select>
            </div>
            <input type="hidden" id="Province" name="Province" value="" />
        </div>
        <div class="search-form">
            <div class="editor-label">
                @Html.LabelFor(model => model.Address)：
            </div>
            <div class="editor-field">
                @Html.EditorFor(model => model.Address)
                @Html.ValidationMessageFor(model => model.Address)
            </div>
        </div>
        <div class="search-form">
            <div class="editor-label">
                @Html.LabelFor(model => model.EmailAddress)：
            </div>
            <div class="editor-field">
                @Html.EditorFor(model => model.EmailAddress)
                @Html.ValidationMessageFor(model => model.EmailAddress)
            </div>
        </div>
        <div class="search-form">
            <div class="editor-label">
                @Html.LabelFor(model => model.State)：
            </div>
            <div class="editor-field">
                @Html.RadioButtonListFor(model => model.State, Models.SysFieldModels.GetSysField("SysPerson", "State"), false)
            </div>
        </div>
        <div class="search-form" style="width:800px">
            <div class="editor-label">
                @Html.LabelFor(model => model.Remark)：
            </div>
            <div class="textarea-box">
                @Html.TextAreaFor(model => model.Remark)
                @Html.ValidationMessageFor(model => model.Remark)
            </div>
        </div>
        @Html.HiddenFor(model => model.CreateTime) @Html.HiddenFor(model => model.CreatePerson)
    </div>


    <div class="clearfix"></div>
    <div class="search-form">
        <div class="editor-label"></div>
        <div class="editor-field">

            <input class="a2 f2" type="submit" value="修改" onclick="ti()"/>
            <input class="a2 f2" type="button" onclick="BackList('SysPerson')" value="返回列表" />

        </div>
    </div>

    @Html.HiddenFor(model => model.HDpic)
    <input type="hidden" id="OldPic" name="OldPic" value="@(ViewBag.OldPic)" />
    <input type="hidden" id="OldProvince" name="OldProvince" value="@(ViewBag.OldProvince)" />
    <input type="hidden" id="fileUrl" value="HDpic" />
    <script type="text/javascript" src="@Url.Content("~/Res/webuploader/js/webuploader.nolog.min.js")"></script>
    <script type="text/javascript" src="@Url.Content("~/Scripts/UploadFile.js")"></script>

</fieldset>

<script type="text/javascript">

    $(function () {
   
    
     
        var picture = $('#OldPic').val();
        if (picture != '') {
            $('#showPic').attr("src", picture);
        }
        
        var OldProvince = $('#OldProvince').val();
        if (OldProvince != '') {
            $('#Province').find("option[value='" + OldProvince + "']").attr("selected", true);
           
        }
        $('#SurePassword').val('');
        $('#Password').val('');
     
    })
</script>
@section HeadContent{
    <link rel="stylesheet" type="text/css" href="@Url.Content("~/Res/webuploader/css/webuploader.css")" />
    <link rel="stylesheet" type="text/css" href="@Url.Content("~/Res/webuploader/images/style.css")" />

}



